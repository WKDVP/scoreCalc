<!DOCTYPE html>

<head>
    <title>Score Bord</title>
    <link href="./css/main.css" rel="stylesheet">
    <script>
        function setSeedmoney() {
            if (isNaN(parseInt(document.getElementsByName('smi')[0].value))) {
                alert('시작금을 올바르게 입력해주세요');
            }
            else {
                document.getElementById('seedMoney').style.display = 'none';
                let m1 = document.getElementsByName('smi');
                let m2 = document.getElementsByName('smi');
                document.getElementById('player1').style.visibility = 'visible';
                document.getElementById('player2').style.visibility = 'visible';
                document.getElementById('resultMoney').style.display = 'block';
                document.getElementById('p1m').innerHTML = m1[0].value;
                document.getElementById('p2m').innerHTML = m2[0].value;
            }
        }

        function gameEnd() {
            if (isNaN(parseInt(document.getElementsByName('betMoney')[0].value))) {
                alert('판돈을 올바르게 입력해주세요');
            }
            else {
                let m1 = parseInt(document.getElementById('p1m').innerHTML);
                let m2 = parseInt(document.getElementById('p2m').innerHTML);
                if (document.getElementById('p1w').checked) {
                    m1 += parseInt(document.getElementsByName('betMoney')[0].value);
                    m2 -= parseInt(document.getElementsByName('betMoney')[0].value);
                    document.getElementById('p1l').innerHTML += '+' + document.getElementsByName('betMoney')[0].value + '<br>';
                    document.getElementById('p2l').innerHTML += '-' + document.getElementsByName('betMoney')[0].value + '<br>';

                }
                else if (document.getElementById('p2w').checked) {
                    m2 += parseInt(document.getElementsByName('betMoney')[0].value);
                    m1 -= parseInt(document.getElementsByName('betMoney')[0].value);
                    document.getElementById('p1l').innerHTML += '-' + document.getElementsByName('betMoney')[0].value + '<br>';
                    document.getElementById('p2l').innerHTML += '+' + document.getElementsByName('betMoney')[0].value + '<br>';
                }
                else {
                    alert('승리자를 선택해주세요');
                    return;
                }
                document.getElementById('p1m').innerHTML = m1;
                document.getElementById('p2m').innerHTML = m2;
            }
            if(m1 <= 0 || m2 <= 0){
                alert('게임이 종료되었습니다.');
            }

        }
    </script>
</head>

<h1>2 Players</h1>
<div id='player1' style="visibility: hidden; float: left" class="userboxPc">
    <p style="margin: 10px;">소지금: </p>
    <p id="p1m"> </p>
    <input type="radio" name="rb" id="p1w"> <label for="p1w">승리</label>
    <br>
    <p>로그</p>
    <p id="p1l"> </p>
</div>

<div id='player2' style="visibility: hidden; float: left;" class="userboxPc">
    <p style="margin: 10px;">소지금: </p>
    <p id="p2m"> </p>
    <input type="radio" name="rb" id="p2w"> <label for="p2w">승리</label>
    <br>
    <p>로그</p>
    <p id="p2l"> </p>
</div>

<div id="seedMoney" style="display: block; float: none;">
    시작금: <input name='smi' type="text"> <button onclick="setSeedmoney()">완료</button>
</div>

<div id="resultMoney" style="display: none;">
    <p>판돈: </p> <input name="betMoney" type="text"> <button onclick="gameEnd()">완료</button>
</div>